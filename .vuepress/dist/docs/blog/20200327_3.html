<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>uniapp开发app - 4.uniapp里echart的使用</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.006e0635.css" as="style"><link rel="preload" href="/assets/js/app.f2aeda93.js" as="script"><link rel="preload" href="/assets/js/2.2d36637f.js" as="script"><link rel="preload" href="/assets/js/23.a8256a6b.js" as="script"><link rel="prefetch" href="/assets/js/10.7e51e74c.js"><link rel="prefetch" href="/assets/js/11.13101938.js"><link rel="prefetch" href="/assets/js/12.f36cea55.js"><link rel="prefetch" href="/assets/js/13.22cd107c.js"><link rel="prefetch" href="/assets/js/14.0fddde32.js"><link rel="prefetch" href="/assets/js/15.9f7983bc.js"><link rel="prefetch" href="/assets/js/16.c8b04fbd.js"><link rel="prefetch" href="/assets/js/17.517a26b4.js"><link rel="prefetch" href="/assets/js/18.d06d3ef8.js"><link rel="prefetch" href="/assets/js/19.ea8e13ce.js"><link rel="prefetch" href="/assets/js/20.be4c10be.js"><link rel="prefetch" href="/assets/js/21.57165a46.js"><link rel="prefetch" href="/assets/js/22.af97889b.js"><link rel="prefetch" href="/assets/js/24.733ea3b8.js"><link rel="prefetch" href="/assets/js/25.0aa17a68.js"><link rel="prefetch" href="/assets/js/26.70a1614a.js"><link rel="prefetch" href="/assets/js/27.644a6dfe.js"><link rel="prefetch" href="/assets/js/28.f36a64ef.js"><link rel="prefetch" href="/assets/js/29.2683195c.js"><link rel="prefetch" href="/assets/js/3.a22b3cc7.js"><link rel="prefetch" href="/assets/js/30.4f3b3073.js"><link rel="prefetch" href="/assets/js/31.5df8e0d3.js"><link rel="prefetch" href="/assets/js/4.dde17670.js"><link rel="prefetch" href="/assets/js/5.e79d3216.js"><link rel="prefetch" href="/assets/js/6.4b063f3b.js"><link rel="prefetch" href="/assets/js/7.94a402ff.js"><link rel="prefetch" href="/assets/js/8.53693b30.js"><link rel="prefetch" href="/assets/js/9.c3946c00.js">
    <link rel="stylesheet" href="/assets/css/0.styles.006e0635.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="uniapp开发app（4）：uniapp里echart的使用"><a href="#uniapp开发app（4）：uniapp里echart的使用" class="header-anchor">#</a> uniapp开发app（4）：uniapp里echart的使用</h2> <p>这里的图表使用，其目的是兼容app端和h5端，其他端的效果并未经过测试 <br></p> <p>h5端，echart的使用方法是和pc端一样的，但是这种使用方法在app端会报错<br></p> <p>官方推荐的是，使用renderjs,这是一种运行在视图层的js，vue页面通过renderjs可以操作浏览器对象，进而可以让基于浏览器的库直接在uni-app的App端运行<br></p> <p>具体写法如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvasLineBar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>optionBarLine<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:change:prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>echarts.updateEcharts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        methods<span class="token punctuation">:</span><span class="token punctuation">{</span>
            <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    url<span class="token punctuation">:</span> <span class="token string">'https://www.example.com/request'</span><span class="token punctuation">,</span> <span class="token comment">//仅为示例，并非真实接口地址。</span>
                    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        text<span class="token punctuation">:</span> <span class="token string">'uni.request'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    header<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">'custom-header'</span><span class="token punctuation">:</span> <span class="token string">'hello'</span> <span class="token comment">//自定义请求头信息</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>optionBarLine<span class="token punctuation">.</span>server<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data1
                        <span class="token keyword">this</span><span class="token punctuation">.</span>optionBarLine<span class="token punctuation">.</span>server<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data2
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				optionBarLine<span class="token punctuation">:</span> <span class="token punctuation">{</span>
					<span class="token comment">// color: this.echartColor,</span>
					tooltip<span class="token punctuation">:</span> <span class="token punctuation">{</span>
						trigger<span class="token punctuation">:</span><span class="token string">'axis'</span><span class="token punctuation">,</span>
						formatter<span class="token punctuation">:</span><span class="token string">'{b0}&lt;br&gt;'</span><span class="token operator">+</span>
						<span class="token string">'{a0}:{c0}kWh&lt;br&gt;'</span><span class="token operator">+</span>
						<span class="token string">'{a1}:{c1}元'</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					xAxis<span class="token punctuation">:</span> <span class="token punctuation">{</span>
						data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
						splitArea<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 网格区域</span>
							show<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 是否显示，默认为false</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						splitLine<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// gird 区域中的分割线</span>
							show<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						axisTick<span class="token punctuation">:</span> <span class="token punctuation">{</span>
							show<span class="token punctuation">:</span> <span class="token boolean">false</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						axisLine<span class="token punctuation">:</span> <span class="token punctuation">{</span>
							show<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
							lineStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
								color<span class="token punctuation">:</span> <span class="token string">'hsla(0, 0%, 90%, 1)'</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						axisLabel<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 坐标轴的标签</span>
							interval<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
							show<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示</span>
							inside<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否朝内</span>
							rotate<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 旋转角度</span>
							margin<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// 刻度标签与轴线之间的距离</span>
							color<span class="token punctuation">:</span> <span class="token string">'#999'</span><span class="token punctuation">,</span> <span class="token comment">// 默认轴线的颜色</span>
							textStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
								color<span class="token punctuation">:</span> <span class="token string">'#999'</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					legend<span class="token punctuation">:</span> <span class="token punctuation">{</span>
						show<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
						data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'分时电量'</span><span class="token punctuation">,</span> <span class="token string">'累计电费'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
						icon<span class="token punctuation">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
						itemWith<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
						itemHeight<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					yAxis<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
							type<span class="token punctuation">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
							name<span class="token punctuation">:</span> <span class="token string">'电量'</span><span class="token punctuation">,</span>
							show<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示</span>
							position<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token comment">// y轴位置</span>
							offset<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// y轴相对于默认位置的偏移</span>
							type<span class="token punctuation">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token comment">// 轴类型，默认为 ‘category’</span>
							name<span class="token punctuation">:</span> <span class="token string">'kWh'</span><span class="token punctuation">,</span> <span class="token comment">// 轴名称</span>
							nameLocation<span class="token punctuation">:</span> <span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token comment">// 轴名称相对位置value</span>
							nameTextStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 坐标轴名称样式</span>
								color<span class="token punctuation">:</span> <span class="token string">'#ccc'</span><span class="token punctuation">,</span>
								padding<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 坐标轴名称相对位置</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
							splitArea<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 网格区域</span>
								show<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 是否显示，默认为false</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
							splitLine<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// gird 区域中的分割线</span>
								show<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
							axisTick<span class="token punctuation">:</span> <span class="token punctuation">{</span>
								show<span class="token punctuation">:</span> <span class="token boolean">false</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
							axisLine<span class="token punctuation">:</span> <span class="token punctuation">{</span>
								show<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
								lineStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
									color<span class="token punctuation">:</span> <span class="token string">'#ccc'</span>
								<span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
							axisLabel<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 坐标轴的标签</span>
								show<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示</span>
								inside<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否朝内</span>
								rotate<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 旋转角度</span>
								margin<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// 刻度标签与轴线之间的距离</span>
								color<span class="token punctuation">:</span> <span class="token string">'#999'</span><span class="token punctuation">,</span> <span class="token comment">// 默认轴线的颜色</span>
								textStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
									color<span class="token punctuation">:</span> <span class="token string">'#999'</span>
								<span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span><span class="token punctuation">,</span>
					grid<span class="token punctuation">:</span> <span class="token punctuation">[</span>
						<span class="token punctuation">{</span>
							top<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
							left<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
							right<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
							bottom<span class="token punctuation">:</span> <span class="token number">30</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span><span class="token punctuation">,</span>
					series<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
							name<span class="token punctuation">:</span> <span class="token string">'分时电量'</span><span class="token punctuation">,</span>
							type<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
							data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
							barWidth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
							yAxisIndex<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
							smooth<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
							symbol<span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
							color<span class="token punctuation">:</span> <span class="token string">'rgba(20,170,255,1)'</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">{</span>
							name<span class="token punctuation">:</span> <span class="token string">'累计电费'</span><span class="token punctuation">,</span>
							type<span class="token punctuation">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
							data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
							smooth<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
							symbol<span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
							color<span class="token punctuation">:</span> <span class="token string">'rgba(248,181,81,1)'</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				color<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'#ff4546'</span><span class="token punctuation">,</span> <span class="token string">'#ff9700'</span><span class="token punctuation">,</span> <span class="token string">'#57c039'</span><span class="token punctuation">,</span> <span class="token string">'#32c7ff'</span><span class="token punctuation">]</span>

			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>echarts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>renderjs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">let</span> myChart<span class="token punctuation">,</span> myChart1
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>echarts <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initEcharts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token comment">// 动态引入较大类库避免影响页面展示</span>
				<span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
				<span class="token comment">// view 层的页面运行在 www 根目录，其相对路径相对于 www 计算</span>
				script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'static/js/echart/echarts.js'</span><span class="token punctuation">;</span>
				script<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initEcharts</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>

			<span class="token function-variable function">initEcharts</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// this.chart2 = this.load_echart(this.setChartBar(data2), 'canvasLineBar');</span>
				myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvasLineBar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 观测更新的数据在 view 层可以直接访问到</span>
				myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>optionBarLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token function">updateEcharts</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> ownerInstance<span class="token punctuation">,</span> instance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// 监听 service 层数据变更</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>echarts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvasLineBar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>

			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


</code></pre></div><p>现在发现的唯一的问题，是配置项里的function无法使用,因此，很多自定义功能无法使用</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f2aeda93.js" defer></script><script src="/assets/js/2.2d36637f.js" defer></script><script src="/assets/js/23.a8256a6b.js" defer></script>
  </body>
</html>
