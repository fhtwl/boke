--- 
title: js浮点数计算误差解决
date: 2021-06-17
categories: 
 - 前端
tags: 
 - javascript
 - 浮点数
 - float
---

## js浮点数计算误差解决

#### 问题

```js
console.log(0.1 + 0.2) // 0.30000000000000004
console.log(3 * 0.6) // 1.7999999999999998
```
浮点数在计算时，有事会出现计算（精度）误差

#### 原因

出现这种计算（精度）误差的根本原因，在于二进制在表示浮点数时，会因为（二进制的）浮点数位数过高，导致浮点数的位数，不足以有限表述，例如<br >

* 0.1（10进制）
    转换为2进制 => 0.0001 1001 1001 1001... (1001无限循环)
* 0.2（10进制）
    转换为2进制 => 0.0011 0011 0011 0011... (0011无限循环)

#### 解决办法

解决办法就是将浮点数运算都转换为整数运算，例如：

``` js
// 0.1 + 0.2 => (1 + 2) / 10
console.log((1 + 2) / 10) // 0.3



```