---
title: 通过宝塔创建网站, 添加DNS解析, 并配置ssl证书
date: 2022-08-24
categories:
  - 后端
tags:
  - 宝塔
  - nginx
  - 域名
  - 网站
---

# 一、添加站点

1. 登录宝塔

2. 选择 **网站/PHP**

3. 添加站点, 此时会在/www/wwwroot 下新增 www.example.com 文件夹

# 二、添加域名解析

1. 登录域名购买商(阿里云)平台

2. 选择 **云解析 DNS/域名解析**

3. 添加域名, 如果是子域, 会提示 **添加 TXT 授权校验**, 按照提示在 **主域名** 下添加 TXT 类型解析, 添加完解析后, 即可成功添加域名, 此时新增的子域名下, 能看到主机记录为 **\_dnsauth** 的新记录

4. 在刚刚新建的子域名下, 添加 **A** 类解析, 主机记录为 **@**, 记录值为 ip 地址

# 三、配置 ssl 证书

1. 在阿里云平台, 选择 **数字证书管理服务/SSL 证书**, 选择 **免费证书** , 然后 **创建证书**, 此时会新增一条 未签发 即 **待申请** 的证书, 点击 **证书申请**, 填写 **证书绑定域名**, 点击 **下一步** , **验证** 通过后, 点击确定就会成功添加 ssl 证书, 此时 **云解析 DNS/域名解析** 的主域名下 ,会新增一条 **TXT** 类型的记录, 其主机记录为 **\_dnsauth.admin** , (admin 即为证书的子域名前缀)

2. 点击 **部署**, 选择 **Nginx**, 下载.key 文件和.pem 文件

3. 进入宝塔 **网站/PHP** 里新建的网站下, 选择 **ssl**, 并填入.key 和.pem 文件内容, 然后保存, 并勾上证书提醒等

# 四、访问网站

等待大概 10 分钟后, 即可正常访问网站
